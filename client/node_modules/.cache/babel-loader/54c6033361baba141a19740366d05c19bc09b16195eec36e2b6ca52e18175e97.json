{"ast":null,"code":"import{Button,Card,CardActions,CardContent,CardMedia,Typography}from\"@material-ui/core\";import React from\"react\";import useStyles from\"./styles\";import ThumbUpdAltIcon from\"@material-ui/icons/ThumbUpAlt\";import DeleteIcon from\"@material-ui/icons/Delete\";import MoreHorizIcon from\"@material-ui/icons/MoreHoriz\";import moment from'moment';import{useDispatch}from\"react-redux\";import{deletePost,likePost}from\"../../../actions/posts\";import ThumbUpAltOutlined from'@material-ui/icons/ThumbDownAltOutlined';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(_ref){var _user$result2,_user$result3;var post=_ref.post,setCurrentId=_ref.setCurrentId;var classes=useStyles();var dispatch=useDispatch();var user=JSON.parse(localStorage.getItem('profile'));var Likes=function Likes(){if(post.likes.length>0){return post.likes.find(function(like){var _user$result;return like===(user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result._id);})?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ThumbUpdAltIcon,{fontSize:\"small\"}),\"\\xA0\",post.likes.length>2?\"You and \".concat(post.likes.length-1,\" others\"):\"\".concat(post.likes.length,\" like\").concat(post.likes.length>1?'s':'')]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ThumbUpAltOutlined,{fontSize:\"small\"}),\"\\xA0\",post.likes.length,\" \",post.likes.length===1?'Like':'Likes']});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ThumbUpAltOutlined,{fontSize:\"small\"}),\"\\xA0Like\"]});};return/*#__PURE__*/_jsxs(Card,{className:classes.card,children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:post.selectedFile,title:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:classes.overlay,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:post.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:moment(post.createdAt).fromNow()})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.overlay2,children:(user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2._id)===(post===null||post===void 0?void 0:post.creator)&&/*#__PURE__*/_jsx(\"div\",{className:classes.overlay2,children:/*#__PURE__*/_jsx(Button,{style:{color:'white'},size:\"small\",onClick:function onClick(){setCurrentId(post._id);},children:/*#__PURE__*/_jsx(MoreHorizIcon,{fontSize:\"medium\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.details,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:post.tags.map(function(tag){return\"#\".concat(tag,\" \");})})}),/*#__PURE__*/_jsx(Typography,{className:classes.title,variant:\"h5\",gutterBottom:true,children:post.title}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",require:true,color:\"textSecondary\",component:\"p\",children:post.message})}),/*#__PURE__*/_jsxs(CardActions,{className:classes.cardActions,children:[/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"primary\",disabled:!(user!==null&&user!==void 0&&user.result),onClick:function onClick(){return dispatch(likePost(post._id));},children:/*#__PURE__*/_jsx(Likes,{})}),(user===null||user===void 0?void 0:(_user$result3=user.result)===null||_user$result3===void 0?void 0:_user$result3._id)===(post===null||post===void 0?void 0:post.creator)&&/*#__PURE__*/_jsxs(Button,{size:\"small\",color:\"primary\",onClick:function onClick(){return dispatch(deletePost(post._id));},children:[/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"}),\"Delete\"]})]})]});};export default Post;","map":{"version":3,"names":["Button","Card","CardActions","CardContent","CardMedia","Typography","React","useStyles","ThumbUpdAltIcon","DeleteIcon","MoreHorizIcon","moment","useDispatch","deletePost","likePost","ThumbUpAltOutlined","Post","post","setCurrentId","classes","dispatch","user","JSON","parse","localStorage","getItem","Likes","likes","length","find","like","result","_id","card","media","selectedFile","title","overlay","name","createdAt","fromNow","overlay2","creator","color","details","tags","map","tag","message","cardActions"],"sources":["C:/Users/hp/Documents/DI/websites/instasocial/client/src/components/Posts/Post/Posts.js"],"sourcesContent":["import { Button, Card, CardActions, CardContent, CardMedia, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport useStyles from \"./styles\";\r\nimport ThumbUpdAltIcon from \"@material-ui/icons/ThumbUpAlt\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport moment from 'moment'\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deletePost,likePost } from \"../../../actions/posts\";\r\nimport ThumbUpAltOutlined from '@material-ui/icons/ThumbDownAltOutlined'\r\n\r\nconst Post = ({post ,setCurrentId}) => {\r\n  const classes = useStyles();\r\n\tconst dispatch = useDispatch();\r\n\tconst user = JSON.parse(localStorage.getItem('profile'))\r\n\tconst Likes = () => {\r\n    if (post.likes.length > 0) {\r\n       return post.likes.find((like) => like === user?.result?._id)\r\n          ? (\r\n             <><ThumbUpdAltIcon fontSize=\"small\" />&nbsp;{post.likes.length > 2 ? `You and ${post.likes.length - 1} others` : `${post.likes.length} like${post.likes.length > 1 ? 's' : ''}`}</>\r\n          ) : (\r\n             <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;{post.likes.length} {post.likes.length === 1 ? 'Like' : 'Likes'}</>\r\n          );\r\n    }\r\n\r\n    return <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;Like</>;\r\n };\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardMedia\r\n        className={classes.media}\r\n        image={post.selectedFile}\r\n        title={post.title}\r\n      ></CardMedia>\r\n\t\t\t\t<div className={classes.overlay}>\r\n\t\t\t\t\t<Typography variant=\"h6\">{post.name}</Typography>\r\n\t\t\t\t\t<Typography variant=\"body2\">{moment(post.createdAt).fromNow()}</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.overlay2}>\r\n\t\t\t\t{(user?.result?._id === post?.creator) && (\r\n          <div className={classes.overlay2}>\r\n           <Button style={{color:'white'}} size='small' onClick={() =>{setCurrentId(post._id)}}>\r\n           <MoreHorizIcon fontSize='medium' />\r\n         </Button>\r\n         </div>\r\n        )}\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.details}>\r\n\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">\r\n\t\t\t\t\t\t{post.tags.map((tag) =>`#${tag} `)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Typography className={classes.title} variant=\"h5\"  gutterBottom>\r\n\t\t\t\t\t\t{post.title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"body2\" require color=\"textSecondary\" component=\"p\">\r\n\t\t\t\t\t\t{post.message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t\t<CardActions className={classes.cardActions}>\r\n\t\t\t\t<Button size='small'  color='primary' disabled={!user?.result} onClick={() =>dispatch(likePost(post._id))}>\r\n          <Likes />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{(user?.result?._id === post?.creator)  && (\r\n          <Button size='small' color='primary' onClick={() =>dispatch(deletePost(post._id))}>\r\n            <DeleteIcon fontSize='small' />\r\n           Delete \r\n        </Button>\r\n        )}\r\n\t\t\t\t</CardActions>\r\n\t\t\t\t\r\n\t\t\t\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}